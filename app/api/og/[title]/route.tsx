import { ImageResponse } from "next/og";

export async function GET(
  request: Request,
  { params }: { params: Promise<{ title: string }> }
) {
  const { title } = await params;

  return new ImageResponse(
    (
      <div
        style={{
          background:
            "linear-gradient(90deg, rgba(236,132,136,1) 0%, rgba(233,82,88,1) 50%)",
          width: "100%",
          height: "100%",
          padding: "0 10%",
          display: "flex",
          alignItems: "center",
          justifyContent: "center",
          position: "relative",
        }}
      >
        <svg
          width="882"
          height="564"
          viewBox="0 0 882 564"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          style={{
            position: "absolute",
            top: "50%",
            left: "63%",
            transform: "translate(-50%, -50%)",
          }}
        >
          <g opacity="0.1" clipPath="url(#clip0_975_2541)">
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M0.51466 211.053C5.84993 283.668 56.3865 341.847 152.125 385.587C266.952 257.911 440.421 129.383 672.527 0C512.757 66.0551 358.241 149.792 208.977 251.216C156.469 207.052 134.603 171.512 143.378 144.594C155.603 108.503 185.24 97.7912 232.298 112.462C202.011 108.046 186.039 113.341 184.374 128.348C182.96 138.124 188.748 144.003 195.085 148.23C205.924 155.461 219.979 156.407 242.86 154.086C264.009 152.095 281.623 158.911 295.702 174.533C303.176 178.53 306.94 174.635 306.999 162.848C319.565 163.32 327.582 162.469 331.052 160.294C273.698 124.744 233.366 96.2613 210.062 74.8496C191.472 61.4617 219.202 50.5459 220.374 46.9999C133.563 35.6967 79.1533 60.7488 58.8238 90.551C15.9407 126.243 -3.49667 166.41 0.51466 211.053Z"
              fill="white"
            />
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M645.492 163.447C515.603 190.493 334.362 302.103 101.777 498.278C324.091 253.311 508.719 118.929 655.693 95.1615C771.227 80.8006 846.058 117.313 880.18 204.704C892.025 276.408 824.486 353.331 677.56 435.476C585.544 489.568 510.718 532.412 453.073 564C374.173 530.891 301.289 490.97 234.417 444.233C406.295 311.272 522.914 244.571 584.267 244.139C623.61 237.819 645.357 251.207 649.499 284.301C648.262 303.832 637.087 319.168 615.975 330.312C618.829 303.243 608.137 285.717 583.904 277.731C545.427 270.914 520.647 281.138 509.561 308.4C489.035 362.783 471.547 394.552 457.084 403.705C430.683 416.677 419.629 428.362 423.919 438.756C429.339 452.523 434.319 460.558 438.865 462.857C446.053 452.642 452.733 446.315 458.907 443.868C464.387 448.749 458.437 459.827 441.048 477.096C448.479 483.892 458.073 483.404 469.839 475.635C587.851 399.284 664.625 351.085 700.16 331.04C711.096 325.93 723.731 331.895 738.058 348.932C741.116 328.547 743.303 303.719 744.616 274.448C773.45 222.452 775.881 187.398 751.903 169.289C719.317 153.592 683.845 151.645 645.492 163.447Z"
              fill="white"
            />
          </g>
          <defs>
            <clipPath id="clip0_975_2541">
              <rect width="882" height="564" fill="white" />
            </clipPath>
          </defs>
        </svg>

        <span
          style={{
            fontSize: 96,
            color: "white",
            fontWeight: 600,
            textAlign: "center",
          }}
        >
          {title}
        </span>
      </div>
    ),
    {
      width: 1200,
      height: 630,
    }
  );
}
